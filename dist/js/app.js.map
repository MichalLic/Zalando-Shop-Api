{"version":3,"sources":["CartControler.js","filtering.js","ProductDetailsControler.js","script.js"],"names":["CartControl","$CART_BLOCK","$","init","Zalando","getPreviouslyPage","$BTN_PREV","drawCartDetail","onRemoveLocalStorageItem","removeAllItems","addProductToCart","data","quantity","getProductQuantity","productDetails","id","name","price","units","value","currency","img","media","images","thumbnailHdUrl","PRODUCTS_LOCAL_STORAGE","console","log","push","isInCart","each","index","item","localStorage","setItem","JSON","stringify","number","val","Number","block","map","html","emptyCartMessage","addRemovedButton","remove","getProductDetailToCart","ajax","url","URL","method","dataType","headers","Accept-Language","success","response","error","alert","onPutToCart","btn","on","e","preventDefault","getItem","replace","ProductControl","activeLoader","scrollToTop","showMessage","inactiveLoader","is","append","i","length","this","attr","removeItem","splice","refreshProductsCollection","Filter","$FILTER_INPUT","$PRODUCT_SECTION","filterProducts","createArrayProducts","products","inputVal","empty","myRegex","RegExp","filter","match","renderProduct","getSingleElement","template","Mustache","parse","rendered","render","productArray","Array","content","$OWL_CAROUSEL","$CART_MODAL","$ADD_LINK","getProductId","getProductDetail","window","location","hash","split","renderedMustacheProduct","renderedMustacheOwlCarousel","owlCarousel","owlRefresh","addClass","setTimeout","removeClass","css","items","singleItem","autoplay","autoplayHoverPause","dots","loop","margin","mouseDrag","nav","smartSpeed","navText","trigger","$PRODUCTS","$CATEGORY_LINK","$PRODUCTS_SECTION","PRODUCT_DETAIL","getProducts","onInitTrueFunction","isFilter","endpoint","filters","returnFilteredDataUrl","param","dataset","product","renderedMustache","addedElement","elementPlace","history","back","animate","scrollTop"],"mappings":"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","file":"app.js","sourcesContent":["var CartControl = {\r\n    $CART_BLOCK: $('.cart-block'),\r\n\r\n    //Init\r\n    init: function () {\r\n        Zalando.getPreviouslyPage(Zalando.$BTN_PREV);\r\n        CartControl.drawCartDetail();\r\n        CartControl.onRemoveLocalStorageItem();\r\n        CartControl.removeAllItems();\r\n\r\n    },\r\n\r\n    //Functions\r\n    /**\r\n     * Function on subpage cart\r\n     */\r\n    addProductToCart: function (data) {\r\n        var quantity = CartControl.getProductQuantity();\r\n        var productDetails = {\r\n            id: data.id,\r\n            name: data.name,\r\n            price: data.units[0].price.value,\r\n            currency: 'Â£',\r\n            img: data.media.images[0].thumbnailHdUrl,\r\n            quantity: quantity\r\n        };\r\n\r\n        if (Zalando.PRODUCTS_LOCAL_STORAGE === '') {\r\n            console.log('dodaje pierwszy produkt do pustego koszyka');\r\n            Zalando.PRODUCTS_LOCAL_STORAGE.push(productDetails);\r\n        } else {\r\n            var isInCart = false;\r\n            $.each(Zalando.PRODUCTS_LOCAL_STORAGE, function (index, item) {\r\n                if (productDetails.id === item.id) {\r\n                    console.log('dodaje pierwszy lecz koszyk NIE BYL pusty');\r\n                    console.log('increment product quantity');\r\n                    item.quantity += quantity;\r\n                    isInCart = true;\r\n                }\r\n            });\r\n            if (isInCart === false) {\r\n                console.log('dodaje produkt ktorego nie bylo w koszyku a on mial juz produkty');\r\n                Zalando.PRODUCTS_LOCAL_STORAGE.push(productDetails);\r\n            }\r\n        }\r\n        localStorage.setItem('products', JSON.stringify(Zalando.PRODUCTS_LOCAL_STORAGE));\r\n        CartControl.drawCartDetail();\r\n    },\r\n\r\n    /**\r\n     * get integer value\r\n     * @returns {number}\r\n     */\r\n    getProductQuantity: function () {\r\n        var number = $('#quantity').val();\r\n        return Number(number);\r\n    },\r\n\r\n    /**\r\n     * Draw product detail in cart page\r\n     */\r\n    drawCartDetail: function () {\r\n        var block = '';\r\n        $.map(Zalando.PRODUCTS_LOCAL_STORAGE, function (item) {\r\n            block += '<div class=\"cart-product-detail\">';\r\n            block += '<span><a href=\"product.html#' + item.id + '\">' + item.name + '</a></span>';\r\n            block += '<span><b>' + item.currency + item.price * item.quantity + '</b></span>';\r\n            block += '<span><img src=\"' + item.img + '\"></span>';\r\n            block += '<span><b>QTY</b>:' + item.quantity + '</span>';\r\n            block += '<a href=\"#\" data-id=\"' + item.id + '\" class=\"btn-remove-item\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></a>';\r\n            block += '</div>';\r\n        });\r\n        CartControl.$CART_BLOCK.html(block);\r\n        CartControl.emptyCartMessage();\r\n        if (block !== '') {\r\n            CartControl.addRemovedButton();\r\n        } else {\r\n            $('.btn-remove-items').remove();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * get data and init first function\r\n     * @param id\r\n     */\r\n    getProductDetailToCart: function (id) {\r\n        $.ajax({\r\n            url: Zalando.URL + id,\r\n            method: 'get',\r\n            dataType: 'JSON',\r\n            headers: {\r\n                'Accept-Language': 'en'\r\n            },\r\n            success: function (response) {\r\n                CartControl.addProductToCart(response);\r\n            },\r\n            error: function () {\r\n                alert(\"Error getting data\");\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * put product to basket\r\n     * @param btn\r\n     */\r\n    onPutToCart: function (btn) {\r\n        btn.on('click', function (e) {\r\n            e.preventDefault();\r\n            var id = localStorage.getItem('id').replace(/['\"]+/g, '');\r\n            ProductControl.activeLoader();\r\n            Zalando.scrollToTop();\r\n            ProductControl.showMessage();\r\n            CartControl.getProductDetailToCart(id);\r\n            ProductControl.inactiveLoader();\r\n        });\r\n    },\r\n\r\n    /**\r\n     * show message in case of empty basket\r\n     */\r\n    emptyCartMessage: function () {\r\n        if (CartControl.$CART_BLOCK.is(':empty')) {\r\n            CartControl.$CART_BLOCK.append('<p class=\"cart-message-empty\">Your basket is currently empty!</p>');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * remove single item by using localStorage\r\n     */\r\n    onRemoveLocalStorageItem: function () {\r\n        CartControl.$CART_BLOCK.on('click', '.btn-remove-item', function (e) {\r\n            e.preventDefault();\r\n            for (var i = 0; i < Zalando.PRODUCTS_LOCAL_STORAGE.length; i++) {\r\n                if (Zalando.PRODUCTS_LOCAL_STORAGE[i].id === $(this).attr('data-id')) {\r\n                    localStorage.removeItem(Zalando.PRODUCTS_LOCAL_STORAGE.splice(i, 1));\r\n                    localStorage.setItem('products', JSON.stringify(Zalando.PRODUCTS_LOCAL_STORAGE));\r\n                    CartControl.drawCartDetail();\r\n                }\r\n            }\r\n        })\r\n    },\r\n\r\n\r\n    /**\r\n     * add button to html\r\n     */\r\n    addRemovedButton: function () {\r\n        var block = '<a href=\"#\" class=\"btn-remove-items\">Remove all</a>';\r\n        $('.remove-block').html(block);\r\n    },\r\n\r\n    /**\r\n     * remove all products by using localStorage\r\n     */\r\n    removeAllItems: function () {\r\n        $('main').on('click', '.btn-remove-items', function (e) {\r\n            e.preventDefault();\r\n            localStorage.setItem('products', JSON.stringify(''));\r\n            Zalando.refreshProductsCollection();\r\n            CartControl.drawCartDetail();\r\n        })\r\n    }\r\n\r\n\r\n};","var Filter = {\r\n\r\n    //variables\r\n    $FILTER_INPUT: $('#filter-input'),\r\n    $PRODUCT_SECTION: $('.products-section'),\r\n\r\n    init: function (data) {\r\n        Filter.filterProducts(data);\r\n        Filter.createArrayProducts(data);\r\n    },\r\n\r\n    filterProducts: function (products) {\r\n        //init function after enter chars\r\n        Filter.$FILTER_INPUT.on('keyup', function () {\r\n            var inputVal = this.value;\r\n            Filter.$PRODUCT_SECTION.empty();\r\n            if (inputVal !== '') {\r\n                var myRegex = new RegExp(inputVal, 'gi');\r\n                var productArray = Filter.createArrayProducts(products);\r\n                //filter products by single object\r\n                productArray.filter(function (item) {\r\n                    if (item.name.match(myRegex)) {\r\n                        Filter.renderProduct(item);\r\n                    }\r\n                });\r\n            } else {\r\n                Zalando.getSingleElement(products);\r\n            }\r\n        })\r\n    },\r\n\r\n    renderProduct: function (data) {\r\n        var template = $('#filter-product').html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        $('.products-section').append(rendered);\r\n    },\r\n\r\n    createArrayProducts: function (products) {\r\n        var productArray = new Array;\r\n        $.map(products.content, function (item) {\r\n            productArray.push(item);\r\n        });\r\n        return productArray;\r\n    }\r\n};","var ProductControl = {\r\n    $OWL_CAROUSEL: $('.owl-carousel'),\r\n    $CART_MODAL: $('.cart-modal'),\r\n    $ADD_LINK: $('.add-link'),\r\n\r\n    //Init\r\n    init: function () {\r\n        var id = ProductControl.getProductId();\r\n        ProductControl.getProductDetail(id);\r\n        Zalando.getPreviouslyPage(Zalando.$BTN_PREV);\r\n    },\r\n\r\n    //Functions\r\n    /**\r\n     * Get product id by window.location.hash method\r\n     * @returns {*}\r\n     */\r\n    getProductId: function () {\r\n        var hash = window.location.hash;\r\n        var id = hash.split('#');\r\n        return id[1];\r\n    },\r\n\r\n    /**\r\n     * Draw product details\r\n     * @param data\r\n     */\r\n    renderedMustacheProduct: function (data) {\r\n        var template = $('#product-detail').html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        $('.product-detail').html(rendered);\r\n    },\r\n\r\n    /**\r\n     * Draw owl carousel\r\n     * @param data\r\n     */\r\n    renderedMustacheOwlCarousel: function (data) {\r\n        var template = $('#owl-carousel').html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        $('#owl-product').append(rendered);\r\n    },\r\n\r\n    /**\r\n     * Get products from proper url\r\n     */\r\n    getProductDetail: function (id) {\r\n        $.ajax({\r\n            url: Zalando.URL + id,\r\n            method: 'get',\r\n            dataType: 'JSON',\r\n            headers: {\r\n                'Accept-Language': 'en'\r\n            },\r\n            success: function (response) {\r\n                console.log(response);\r\n                ProductControl.renderedMustacheProduct(response);\r\n                ProductControl.renderedMustacheOwlCarousel(response);\r\n                localStorage.setItem('id', JSON.stringify(response.id));\r\n                ProductControl.owlCarousel();\r\n                ProductControl.owlRefresh();\r\n\r\n                //Init cart page functions\r\n                CartControl.drawCartDetail();\r\n                CartControl.onPutToCart($('.add-link'));\r\n            },\r\n            error: function () {\r\n                alert(\"Error getting data\");\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * show message after add product to basket\r\n     */\r\n    showMessage: function () {\r\n        ProductControl.$CART_MODAL.addClass('show');\r\n\r\n        setTimeout(function () {\r\n            ProductControl.$CART_MODAL.removeClass('show');\r\n        }, 4000);\r\n    },\r\n\r\n    activeLoader: function () {\r\n        $('.add-link').css('pointer-events', 'none');\r\n        $('.spinner').removeClass('hide');\r\n    },\r\n\r\n    inactiveLoader: function () {\r\n        $('.add-link').css('pointer-events', 'auto');\r\n        $('.spinner').addClass('hide');\r\n    },\r\n\r\n    /**\r\n     * Init carousel and properties\r\n     */\r\n    owlCarousel: function () {\r\n        ProductControl.$OWL_CAROUSEL.owlCarousel({\r\n            items: 1,\r\n            singleItem: true,\r\n            autoplay: true,\r\n            autoplayHoverPause: true,\r\n            dots: false,\r\n            loop: true,\r\n            margin: 10,\r\n            mouseDrag: true,\r\n            nav: true,\r\n            smartSpeed: 1000,\r\n            navText: ['<i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>',\r\n                '<i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>']\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Refresh owl after loaded\r\n     */\r\n    owlRefresh: function () {\r\n        ProductControl.$OWL_CAROUSEL.trigger('refresh.owl.carousel');\r\n    }\r\n\r\n};","var Zalando = {\r\n    //variables\r\n    URL: 'https://api.zalando.com/articles/',\r\n    $PRODUCTS: $('#products'),\r\n    $CATEGORY_LINK: $('.category-link'),\r\n    $PRODUCTS_SECTION: $('.products-section'),\r\n    PRODUCT_DETAIL: 'product-detail',\r\n    $BTN_PREV: $('.btn-prev'),\r\n    PRODUCTS_LOCAL_STORAGE: JSON.parse(localStorage.getItem('products')) || [],\r\n\r\n    //Init\r\n    init: function () {\r\n        Zalando.getProducts(false);\r\n        Zalando.onInitTrueFunction(Zalando.$CATEGORY_LINK);\r\n    },\r\n\r\n    //Function\r\n    /**\r\n     * get products from proper url\r\n     * @param isFilter\r\n     * @param endpoint\r\n     */\r\n    getProducts: function (isFilter, endpoint) {\r\n        var filters = (isFilter === true) ? endpoint : \"\";\r\n        $.ajax({\r\n            url: Zalando.URL + filters,\r\n            method: 'get',\r\n            dataType: 'JSON',\r\n            headers: {\r\n                'Accept-Language': 'en'\r\n            },\r\n            success: function (response) {\r\n                console.log(response);\r\n                $('.product-link').remove();\r\n                Zalando.getSingleElement(response);\r\n                Filter.init(response)\r\n            },\r\n            error: function () {\r\n                alert(\"Error getting data\")\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Init function when is true (have extra endpoint)\r\n     * @param btn\r\n     */\r\n    onInitTrueFunction: function (btn) {\r\n        btn.on('click', function (e) {\r\n            e.preventDefault();\r\n            Zalando.getProducts(true, Zalando.returnFilteredDataUrl(this));\r\n        })\r\n    },\r\n\r\n    /**\r\n     * Create proper endpoint by 'param' and 'dataset' functions\r\n     * @param btn\r\n     * @returns {string}\r\n     */\r\n    returnFilteredDataUrl: function (btn) {\r\n        return '?' + $.param(btn.dataset);\r\n    },\r\n\r\n    /**\r\n     * Get single product after map function\r\n     * @param data\r\n     */\r\n    getSingleElement: function (data) {\r\n        $.map(data.content, function (product) {\r\n            Zalando.renderedMustache(product, Zalando.$PRODUCTS, Zalando.$PRODUCTS_SECTION)\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Draw products on page content by mustache\r\n     * @param data\r\n     */\r\n    renderedMustache: function (data, addedElement, elementPlace) {\r\n        var template = addedElement.html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        elementPlace.append(rendered);\r\n    },\r\n\r\n    /**\r\n     * Back to previously page\r\n     * @param btn\r\n     */\r\n    getPreviouslyPage: function (btn) {\r\n        btn.on('click', function () {\r\n            window.history.back();\r\n        })\r\n    },\r\n\r\n    /**\r\n     * Scroll page to top\r\n     */\r\n    scrollToTop: function () {\r\n        $(\"html, body\").animate({scrollTop: 0}, \"slow\");\r\n    },\r\n\r\n    refreshProductsCollection: function () {\r\n        Zalando.PRODUCTS_LOCAL_STORAGE = JSON.parse(localStorage.getItem('products'));\r\n    }\r\n};"]}